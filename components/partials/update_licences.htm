<div>LICENCES</div>
<hr class="my-4" />

{% for i, licence in profile.licences %}
    <div class="form-group">
	<div class="row">
	    <div class="form-group col-sm-6">
		<label for="licence-type-{{ i }}">Type</label>
		<select name="licences[{{ i }}][type]" class="form-control" id="licence-type-{{ i }}">
		    <option value="">- Select -</option>
			{% for value, text in licenceTypes %}
			    <option value="{{ value }}" {{ (licence.type == value) ? 'selected' : '' }}>{{ text }}</option>
			{% endfor %}
		</select>
	    </div>

	    <div class="form-group col-sm-6">
		<label for="court-{{ i }}">Court</label>
		<input type="text" name="licences[{{ i }}][court]" class="form-control" id="court-{{ i }}" value="{{ licence.court }}">
	    </div>
	</div>

	<div class="row">
	    <div class="form-group col-sm-6">
		<label for="appeal-court-i }}">Appeal court</label>
		<select name="licences[{{ i }}][appeal_court_id]" class="form-control" id="appeal-court-{{ i }}">
		    <option value="">- Select -</option>
			{% for value, text in appealCourts %}
			    <option value="{{ value }}" {{ (licence.appeal_court_id == value) ? 'selected' : '' }}>{{ text }}</option>
			{% endfor %}
		</select>
	    </div>

	    <div class="form-group col-sm-6">
		<label for="since-{{ i }}">Since</label>
		<input type="text" name="licences[{{ i }}][since]" class="form-control" id="since-{{ i }}" value="{{ licence.since }}">
	    </div>
	</div>

	<input type="hidden" name="licences[{{ i }}][_id]" value="{{ licence.id }}">

	{% for j, attestation in licence.attestations %}
	    <div class="row">
		<div class="form-group col-sm-12">
		    <label class="mb-0" for="attestations-{{ i }}-{{ j }}">Proof</label>
		    <p class="mb-2" id="new-attestation-file">
			<a target="_blank" href="{{ attestation.file.path }}">{{ attestation.file.filename }}</a>
		    </p>
		    <input type="file" name="file_{{ i }}_{{ j }}" class="form-control" id="file-{{ i }}-{{ j }}">
		</div>
	    </div>

	    <div class="row">
		<div class="form-group col-sm-6">
		    <label for="dp_expert-expiry-{{ i }}-{{ j }}">Expiry Date</label>
		    <div class="input-group">
			<input type="text" class="form-control date-picker" id="dp_expiry-date-{{ i }}-{{ j }}" autocomplete="off" aria-describedby="basic-addon1">
			<div class="input-group-append">
			    <span class="input-group-text" id="basic-addon1"><i class="fa fa-calendar"></i></span>
			</div>
		    </div>
		    <input type="hidden" name="licences[{{ i }}][attestations][{{ j }}][expiry_date]" id="expiry-date-{{ i }}-{{ j }}" value="{{ attestation.expiry_date }}">
		</div>
	    </div>

	    <input type="hidden" name="licences[{{ i }}][attestations][{{ j }}][_id]" value="{{ attestation.id }}">

	    {% for k, language in attestation.languages %}
		<div class="row">
		    <div class="form-group col-sm-6">
			<label for="language-{{ i }}-{{ j }}-{{ k }}">Language {{ k + 1 }}</label>
			<select name="licences[{{ i }}][attestations][{{ j }}][languages][{{ k }}][alpha_2]" class="form-control" id="language-{{ i }}-{{ j }}-{{ k }}">
			    <option value="">- Select -</option>
			    {% for value, text in languages %}
				<option value="{{ value }}" {{ (language.alpha_2 == value) ? 'selected' : '' }}>{{ text }}</option>
			    {% endfor %}
			</select>
		    </div>

		    <div class="form-group col-sm-3 checkbox custom-checkbox mt-5">
			<label for="interpreter-{{ i }}-{{ j }}-{{ k }}">Interpreter</label>
			<input type="checkbox" name="licences[{{ i }}][attestations][{{ j }}][languages][{{ k }}][interpreter]"
			       value="1" id="interpreter-{{ i }}-{{ j }}-{{ k }}" {{ (language.interpreter) ? 'checked' : '' }} />
		    </div>

		    <div class="form-group col-sm-3 checkbox custom-checkbox mt-5">
			<label for="translator-{{ i }}-{{ j }}-{{ k }}">Translator</label>
			<input type="checkbox" name="licences[{{ i }}][attestations][{{ j }}][languages][{{ k }}][translator]"
			       value="1" id="translator-{{ i }}-{{ j }}-{{ k }}" {{ (language.translator) ? 'checked' : '' }} />
		    </div>

		    <input type="hidden" name="licences[{{ i }}][attestations][{{ j }}][languages][{{ k }}][_id]" value="{{ language.id }}" />
		</div>
	    {% endfor %}
	{% endfor %}
    </div>
    <hr class="my-4" />
{% endfor %}

