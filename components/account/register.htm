{% if canRegister %}

    {% put scripts %}
	<link rel="stylesheet" href="plugins/codalia/profile/assets/css/profile.css">
    {% endput %}

    <h3>Register</h3>
    {{ form_ajax('onRegister', {files: 1, flash: ''}) }}

	<div class="row">
	    <div class="col-sm-6">

		<div class="row">
		    <div class="form-group col-sm-6">
			<label for="inputCivility">Civility</label>
			<select name="profile[civility]" class="form-control" id="inputCivility">
			    <option value="">- Select -</option>
			    <option value="mr">Mr</option>
			    <option value="mrs">Mrs</option>
			</select>
		    </div>
		</div>

		<div class="row">
		    <div class="form-group col-sm-6">
		      <label for="inputLastName">Last Name</label>
		      <input type="text" name="profile[last_name]" class="form-control" id="inputLastName">
		    </div>

		    <div class="form-group col-sm-6">
		      <label for="inputFirstName">First Name</label>
		      <input type="text" name="profile[first_name]" class="form-control" id="inputFirstName">
		    </div>
		</div>

		<div class="row">
		    <div class="form-group col-sm-6">
		      <label for="inputBirthName">Birth Name</label>
		      <input type="text" name="profile[birth_name]" class="form-control" id="inputBirthName">
		    </div>

		    <div class="form-group col-sm-6">
		      <label>Birth Date</label>
			<div class="input-group">
			  <input type="text" class="form-control date-picker" id="dp_birth-date" autocomplete="off" aria-describedby="basic-addon1">
			  <div class="input-group-append">
			    <span class="input-group-text" id="basic-addon1"><i class="fa fa-calendar"></i></span>
			  </div>
			</div>
		      <input type="hidden" name="profile[birth_date]" id="birth-date" value="">
		    </div>
		</div>

		<div class="row">
		    <div class="form-group col-sm-6">
		      <label for="inputBirthLocation">Birth Location</label>
		      <input type="text" name="profile[birth_location]" class="form-control" id="inputBirthLocation">
		    </div>

		    <div class="form-group col-sm-6">
		      <label for="inputCitizenship">Citizenship</label>
		      <select name="profile[citizenship]" class="form-control" id="inputCitizenship">
			<option value="">- Select -</option>
			{% for alpha_2, text in citizenships %}
			  <option value="{{ alpha_2 }}">{{ text }}</option>
			{% endfor %}
		      </select>
		    </div>
		</div>

		{% if loginAttribute == "username" %}
		    <div class="form-group">
			<label for="registerUsername">Username</label>
			<input
			    name="username"
			    type="text"
			    class="form-control"
			    id="registerUsername"
			    placeholder="Enter your username" />
		    </div>
		{% endif %}

		<div class="row">
		    <div class="col-sm-6">
			<div class="form-group">
			    <label for="registerEmail">Email</label>
			    <input name="email" type="email" class="form-control" id="registerEmail" placeholder="Enter your email" />
			</div>
		    </div>

		    <div class="col-sm-6">
			<div class="form-group">
			    <label for="registerPassword">Password</label>
			    <input name="password" type="password" class="form-control" id="registerPassword" placeholder="Choose a password" />
			</div>
		    </div>
		</div>

		<div class="row">
		    <div class="col-sm-6">
			<div class="form-group">
			  <label for="inputStreet">Street</label>
			  <input type="text" name="profile[street]" class="form-control" id="inputStreet">
			</div>
		    </div>

		    <div class="col-sm-6">
			<div class="form-group">
			  <label for="inputPostcode">Postcode</label>
			  <input type="text" name="profile[postcode]" class="form-control" id="inputPostcode">
			</div>
		    </div>
		</div>

		<div class="row">
		    <div class="col-sm-6">
			<div class="form-group">
			  <label for="inputCity">City</label>
			  <input type="text" name="profile[city]" class="form-control" id="inputCity">
			</div>
		    </div>

		    <div class="col-sm-6">
			<div class="form-group">
			  <label for="inputPhone">Phone</label>
			  <input type="text" name="profile[phone]" class="form-control" id="inputPhone">
			</div>
		    </div>
		</div>

		<div class="row">
		    <div class="form-group checkbox custom-checkbox col-sm-6">
			<label for="honorary-member" class="mr-2">Honorary member</label>
			<input type="checkbox" name="profile[honorary_member]" class="" value="1" id="honorary-member" />
		    </div>
		</div>

		<div class="row" id="licences">
		    {% partial '@licences/register' %}
		</div>

		<input name="name" type="hidden" id="registerName" />
		<input type="hidden" id="locale" value="{{ locale }}" />

		<button type="submit" class="btn btn-success">Register</button>
	    </div>

	    {% if sharedPartial %}
		{% set pluginPartial = '@' ~  sharedPartial %}

		{% if partial(pluginPartial) %}
		<div class="col" id="{{ sharedPartial }}">
			{% partial pluginPartial %}
		    </div>
		{% endif %}
	    {% endif %}
	</div>

    {{ form_close() }}
{% else %}
    <!-- Registration is disabled. -->
{% endif %}
